// src/components/Header.js

import { APP_NAME } from '../config/appConfig.js';

export function createHeader({ onProfileClick }) {
  const header = document.createElement('header');
  header.className = 'app-header';

  const img = document.createElement('img');
  img.className = 'app-logo';
  img.alt = 'Suffolk shield';
  img.src =
    'data:image/png;base64,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';

  const title = document.createElement('h1');
  title.className = 'app-title';
  title.textContent = APP_NAME;

  const profileBtn = document.createElement('button');
  profileBtn.className = 'profile-button';
  profileBtn.id = 'profile-button';
  profileBtn.title = 'Profile';
  profileBtn.textContent = '?';

  profileBtn.addEventListener('click', (e) => {
    e.preventDefault();
    if (onProfileClick) onProfileClick();
  });

  header.append(img, title, profileBtn);

  function setProfileInitials(initials) {
    profileBtn.textContent = initials || '?';
  }

  return {
    root: header,
    setProfileInitials
  };
}
